function newAddEventListener(a,b,c){if(!Array.isArray(this.attachedEvents)){this.attachedEvents=[];}
this.attachedEvents.push({'type':a,'listener':b,'useCapture':c,'executed':false});this.realAddEventListener(a,b,c);}
function customEventHandler(event,type,element){event.preventDefault();event.stopPropagation();event.stopImmediatePropagation();element.attachedEvents=element.attachedEvents||[];for(var i=0;i<element.attachedEvents.length;i++){var eventObject=element.attachedEvents[i];if(eventObject.type===type&&typeof(eventObject.listener)==='function'&&!eventObject.executed){eventObject.listener(event);eventObject.executed=true;}}}
document.addEventListener('DOMContentLoaded',function(e){customEventHandler(e,'DOMContentLoaded',document);});window.addEventListener('load',function(e){customEventHandler(e,'load',window);if(typeof(window.onload)==='function'){window.onload(e);}
window.onload=null;});HTMLElement.prototype.realAddEventListener=HTMLElement.prototype.addEventListener;HTMLElement.prototype.addEventListener=newAddEventListener;window.realAddEventListener=window.addEventListener;window.addEventListener=newAddEventListener;if(typeof HTMLDocument!=='undefined'){HTMLDocument.prototype.realAddEventListener=HTMLDocument.prototype.addEventListener;HTMLDocument.prototype.addEventListener=newAddEventListener;}else{Document.prototype.realAddEventListener=Document.prototype.addEventListener;Document.prototype.addEventListener=newAddEventListener;}
var scriptsLoadedCounter=0,afterLoadScriptsExecuted=false,urlRegex=/^((https?:)?\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/;window.addEventListener('load',initialLoad);function initialLoad(){if(afterLoadScriptsExecuted){return;}
afterLoadScriptsExecuted=true;loadScripts(dynamicScripts);}
function loadScripts(dynamicScripts,withDynamicContent){withDynamicContent=withDynamicContent||false;if(dynamicScripts&&Array.isArray(dynamicScripts)&&dynamicScripts.length>0){for(var i=0;i<dynamicScripts.length;i++){var script=document.createElement('script');if(!withDynamicContent){script.addEventListener('load',dynamicScriptsFinished);}
script.setAttribute('type','text/javascript');var scriptSrc='';if(dynamicScripts[i].name.indexOf('?')>0){scriptSrc=dynamicScripts[i].name+('&ver='+cacheTime);}else{scriptSrc=dynamicScripts[i].name+('?ver='+cacheTime);}
if(urlRegex.test(dynamicScripts[i].name)){script.setAttribute('src',scriptSrc);}else{script.setAttribute('src',siteUrl+scriptSrc);}
if(dynamicScripts[i].dependant||(Array.isArray(dynamicScripts[i].dependencies)&&dynamicScripts[i].dependencies.length>0)){script.async=false;}
document.body.appendChild(script);}}else{window.onload=noDynamicScripts;}}
window.FBTdocumentLoaded=false;function noDynamicScripts(e){if(window.FBTdocumentLoaded){return;}
window.FBTdocumentLoaded=true;fireBaseThemeScriptsLoadedEvent()}
function fireBaseThemeScriptsLoadedEvent(){var documentEvent,windowEvent,scriptsFinishedEvent;if(document.createEvent){documentEvent=document.createEvent("HTMLEvents");documentEvent.initEvent("DOMContentLoaded",true,true);scriptsFinishedEvent=document.createEvent("HTMLEvents");scriptsFinishedEvent.initEvent("base-theme-scripts-loaded",true,true);}else{documentEvent=document.createEventObject();documentEvent.eventType="DOMContentLoaded";scriptsFinishedEvent=document.createEventObject();scriptsFinishedEvent.eventType="base-theme-scripts-loaded";}
documentEvent.eventName="DOMContentLoaded";scriptsFinishedEvent.eventName="base-theme-scripts-loaded";windowEvent=document.createEvent('Event');windowEvent.initEvent('load',true,true);if(document.createEvent){document.dispatchEvent(documentEvent);document.dispatchEvent(scriptsFinishedEvent);window.dispatchEvent(windowEvent);}else{document.fireEvent("on"+documentEvent.eventType,documentEvent);document.fireEvent("on"+scriptsFinishedEvent.eventType,scriptsFinishedEvent);window.fireEvent("on"+windowEvent.eventType,windowEvent);}}
function dynamicScriptsFinished(e){scriptsLoadedCounter++;if(scriptsLoadedCounter===dynamicScripts.length){fireBaseThemeScriptsLoadedEvent();}}window.base_href=window.base_href||document.location.origin;function storeCookie(cookieName,cookieValue,nDays){var today=new Date(),expire=new Date();if(nDays==null||nDays==0)nDays=1;expire.setTime(today.getTime()+3600000*24*nDays);document.cookie=cookieName+"="+cookieValue+";expires="+expire.toGMTString()+"; path=/";}
function getCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
function deleteCookie(name){createCookie(name,"",-1);}
function getCookies(allCookie){var conver={};allCookie=allCookie.split("; ");allCookie.map(function(el){el=el.split("=");conver[el[0]]=el[1];});return conver;}
if(getCookies(document.cookie)['cookiesPreferences']){window.gdprSettings=JSON.parse(getCookies(document.cookie)['cookiesPreferences']);}else{window.gdprSettings={'performanceCookies':'active','functionalCookies':'active','targetingCookies':'active'};}
var removeElement=function(elementToRemove){if(elementToRemove.parentNode){elementToRemove.parentNode.removeChild(elementToRemove);}}
var gdprCheck=(function(){var settings=window.gdprSettings;var addScriptsDynamicContent=function(arrayScripts,body){arrayScripts.map(function(scriptUrl){var script=document.createElement('script');script.src=scriptUrl;body.appendChild(script);});}
if(settings){document.addEventListener("DOMContentLoaded",function(event){var body=document.querySelector('body');var youtubeClips=document.querySelectorAll('body .youtube');if(settings.functionalCookies=='active'){addScriptsDynamicContent([window.base_href+'js/chat-widget.js'],body);var passDynamicConentet={"reviews-widget":false,"reviews-widget-2":false};var reviewsWidgetScripts=['//widget.trustpilot.com/bootstrap/v5/tp.widget.bootstrap.min.js','//widget.trustpilot.com/bootstrap/v5/tp.widget.sync.bootstrap.min.js']
document.addEventListener('apply-dynamic-content-end',function(event){passDynamicConentet[event.template]=true;if(passDynamicConentet['reviews-widget']){addScriptsDynamicContent(reviewsWidgetScripts,body);}
if(passDynamicConentet['reviews-widget-2']){addScriptsDynamicContent(reviewsWidgetScripts,body);}
if(passDynamicConentet['trustpilot-in-header']){addScriptsDynamicContent(reviewsWidgetScripts,body);}});}else{var trustpilotReviews=document.querySelector('.truspilot-section');if(trustpilotReviews){removeElement(trustpilotReviews);}
var trustpilotinHeader=document.querySelectorAll('[data-dynamic-content="trustpilot-in-header"]');if(trustpilotinHeader){for(var i=0;i<trustpilotinHeader.length;i++){removeElement(trustpilotinHeader[i]);}}}
if(settings.targetingCookies=='inactive'){var socialReviews=document.querySelector('[data-dynamic-content="reviews-social-widgets"]');if(socialReviews){removeElement(socialReviews);}
for(var i=0;i<youtubeClips.length;i++){youtubeClips[i].classList.add('image-only');}}else{var passDynamicConentet={"reviews-social-widgets":false};var socialReviewsScripts=['//platform.twitter.com/widgets.js',window.base_href+'js/facebook-widget.js',window.base_href+'js/dynamic-content-scripts/reviews-social-widget.js']
if(youtubeClips.length){addScriptsDynamicContent([window.base_href+'js/you-tube-fix.js'],body);}
document.addEventListener('apply-dynamic-content-end',function(event){passDynamicConentet[event.template]=true;if(passDynamicConentet['reviews-social-widgets']){addScriptsDynamicContent(socialReviewsScripts,body);}});}});}});gdprCheck();